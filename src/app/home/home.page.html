
<ion-menu side="start" menuId="first" contentId="main" class="my-custom-menu">
  <ion-header>
    <ion-toolbar>
      <ion-title>PDF Viewer</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list>
      <ion-item [ngClass]="{'fs-selected' : location == 'home'}" (click)="setLocation('Books');">
        <ion-icon name="home" slot="start"></ion-icon>
        <ion-label>
          Home
        </ion-label>
      </ion-item>
      <div class="menu-heading">Browse From</div>
      <ion-item [ngClass]="{'fs-selected' : location == 'internal'}" (click)="setLocation('');">
        <ion-icon name="disc" slot="start"></ion-icon>
        <ion-label>
          Internal storage
        </ion-label>
      </ion-item>
      <ion-item [ngClass]="{'fs-selected' : location == 'sdCard'}" (click)="setLocation('sdCard');">
        <ion-icon name="card" slot="start"></ion-icon>
        <ion-label>
          MicroSd
        </ion-label>
      </ion-item>
      <ion-item [ngClass]="{'fs-selected' : location == 'network'}" (click)="setLocation('network');">
        <ion-icon name="git-network" slot="start"></ion-icon>
        <ion-label>
          Network storage
        </ion-label>  
      </ion-item>
      <ion-item [ngClass]="{'fs-selected' : location == 'trash'}" (click)="setLocation('trash');">
        <ion-icon name="trash" slot="start"></ion-icon>
        <ion-label>
          Trash
        </ion-label>  
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>
<ion-router-outlet id="main"></ion-router-outlet>



<ion-header class="header">
  <ion-toolbar>
    <ion-icon class="menu-button" slot="start" name="menu" (click)="openFirst()"></ion-icon>
    <ion-back-button slot="start" *ngIf="folder != 'Books'"></ion-back-button>
    <ion-title *ngIf="location === 'home' || location === 'internal'">
      {{ folder || 'Home'}}
    </ion-title>
    <ion-title *ngIf="location == 'sdCard'">
      SD card
    </ion-title>
    <ion-title *ngIf="location == 'network'">
      Network
    </ion-title>
    <ion-title *ngIf="location == 'trash'">
      Bin
    </ion-title>
    <ion-icon *ngIf="(selectedFilesMap | json) != '{}'" class="checkmark-all-button" slot="end" name="checkmark-circle" (click)="selectAll()"></ion-icon>
    <ion-icon *ngIf="location == 'trash'" class="bin-button " slot="end" name="trash" (click)="emptyBin()"></ion-icon>
    <ion-icon class="option-button" slot="end" name="more" (click)="optionsPopover($event)"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="location !== 'network'">

 <ion-list>

   <ion-item-sliding   *ngFor="let f of items, let i=index" class="list-items">

    <ion-item [ngClass]="{'activated-item': f.selected}" class="directory"  *ngIf="f.isDirectory" (press)="itemPressed(f,i)">
      <ion-icon *ngIf="!f.selected" (click)="itemPressed(f,i)" name="folder" slot="start" ></ion-icon>
      <ion-icon *ngIf="f.selected" (click)="itemPressed(f,i)" name="checkmark" slot="start" ></ion-icon>
      <ion-label (click)="itemClicked(f)">
        {{f.name}}
      </ion-label>
    </ion-item>
    <ion-item [ngClass]="{'activated-item': f.selected}" class="file"  *ngIf="!f.isDirectory" (press)="itemPressed(f,i)">
      <ion-icon *ngIf="!f.selected" (click)="itemPressed(f,i)" name="document" slot="start"></ion-icon>
      <ion-icon *ngIf="f.selected" (click)="itemPressed(f,i)" name="checkmark" slot="start" ></ion-icon>
      <ion-label (click)="itemClicked(f)">
        {{f.name}}
      </ion-label>
    </ion-item>
    <!-- delete from bin -->
    <ion-item-options side="start" *ngIf="location === 'trash'">
      <ion-item-option (click)="deleteFromBin(f)" color="danger">
        <ion-icon name="trash" slot="icon-only"></ion-icon>
      </ion-item-option>
    </ion-item-options>
    <!-- delete normally -->
    <ion-item-options side="start" *ngIf="location !== 'trash'">
      <ion-item-option (click)="moveSingleToBin(f)" color="danger">
        <ion-icon name="trash" slot="icon-only"></ion-icon>
      </ion-item-option>
    </ion-item-options>

    <ion-item-options side="end">
      <ion-item-option *ngIf="!f.isDirectory"  class="openWith-button" (click)="openWith(f)" >
        <ion-icon name="share-alt" slot="icon-only"></ion-icon>
      </ion-item-option>
      <ion-item-option  *ngIf="location !== 'trash'" class="copy-button" (click)="copyItem($event, f)" >
        <ion-icon name="copy" slot="icon-only"></ion-icon>
      </ion-item-option>
      <ion-item-option class="move-button" (click)="copyItem($event, f, true)" >
        <ion-icon name="move" slot="icon-only"></ion-icon>
      </ion-item-option>
    </ion-item-options>
   </ion-item-sliding>
 </ion-list>

 <div *ngIf="(selectedFilesMap | json) != '{}'" class="long-press-options">
  <ion-icon name="copy" slot="icon-only" (click)="copyMultiple($event)"></ion-icon>
  <ion-icon name="move" slot="icon-only" (click)="copyMultiple($event,true)"></ion-icon>
  <ion-icon name="trash" slot="icon-only" (click)="moveMultipleToBin()"></ion-icon>
  <ion-icon name="close" slot="icon-only" (click)="discardLongPressOptions()"></ion-icon>
 </div>
</ion-content>

<ion-content *ngIf="location === 'network'" >
  <ion-item>
    <ion-label> Type address in your browser </ion-label>
  </ion-item>
</ion-content>